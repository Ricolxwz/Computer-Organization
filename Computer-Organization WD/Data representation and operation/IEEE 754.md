## 浮点数标准 IEEE 754

### 移码

- 补码的基础上符号位取反. 注意: 移码只能用于表示整数
- 移码的定义: 移码=真值+偏置值; 偏置值一般取2^(n-1), 此时的移码=补码符号位取反. 偏置值也可以是其他的值, 比如说2^(n-1)-1

![](https://github.com/Ricolxwz/Computer-Organization-408/blob/main/Computer-Organization%20WD/Data%20representation%20and%20operation/IMG/IEEE%207542.png)

### IEEE 754标准

| 类型       | 数符 | 阶码 | 尾数数值 | 总位数 | 十六进制 | 十进制 |
| ---------- | ---- | ---- | -------- | ------ | -------- | ------ |
| 短浮点数   | 1    | 8    | 23       | 32     | 7FH      | 127    |
| 长浮点数   | 1    | 11   | 52       | 64     | 3FFH     | 1023   |
| 临时浮点数 | 1    | 15   | 64       | 80     | 3FFFH    | 16383  |

![](https://github.com/Ricolxwz/Computer-Organization-408/blob/main/Computer-Organization%20WD/Data%20representation%20and%20operation/SVG/IEEE%207541.drawio.svg)

- 阶码全1, 全0用作特殊用途, 故单精度浮点型数阶码真值的正常范围是-126~127
- 阶码的真值=移码-偏移量
- 规格化的短浮点数的真值为: (-1)^s*1.M*2^(E-127)
- 规格化的长浮点数的真值为: (-1)^s*1.M*2^(E-1023)

> 将十进制数-0.75转换为IEEE 754的单精度浮点数格式表示
> <br> (-0.75)10=-(0.11)2=(-1.1)2*2^(-1) 最后一步为规格化
> <br> 数符=1
> <br> 尾数部分=.1000000...(隐含的最高位1)
> <br> 阶码真值=-1
> <br> 单精度浮点型偏移量=127D
> <br> 移码=阶码真值+偏移量=-1+1111111=01111110(凑足8位)

> IEEE 754的单精度浮点数C0 A0 00 00H的值是多少
> <br> 数符=1 -> 是一个负数
> <br> 尾数部分=.0100... (隐含最高位1) -> 尾数真值=(1.01)2
> <br> 移码=10000001, 若看作无符号数=129D
> <br> 单精度浮点型偏移量=127D
> <br> 阶码真值=移码-偏移量=10000001-1111111=(00000010)2=(2)10
> <br> -> 浮点数真值=(-1.01)2*2^2=-1.25*2^2=-5.0

#### IEEE 754单精度浮点型能表示的最小绝对值, 最大绝对值是多少?

- 最小绝对值: 尾数全为0, 阶码真值最小-126, 对应的移码机器数为00000001, 此时整体的真值为(1.0)2*2^(-126)
- 最大绝对值: 尾数权为1, 阶码真值最大127, 对应移码机器数11111110, 此时整体的真值为(1.111...11)2*2^127

| 格式   | 格式化的最小绝对值                 | 格式化的最大绝对值                                           |
| ------ | ---------------------------------- | ------------------------------------------------------------ |
| 单精度 | E=1, M=0: 1.0*2^(1-127)=2^(-126)   | E=-254, M=.11...1: 1.11...1*2^(254-127)=2^127*(2-2^(-23))    |
| 双精度 | E=1, M=0: 1.0*2^(1-1023)=2^(-1022) | E=2046, M=.11...1: 1.11...1*2^(2046-1023)=2^1023*(2-2^(-52)) |

#### 表示绝对值更小的浮点数

- 阶码全1或者全0用作特殊用途
- 当阶码E不全为0, 尾数M不全为0的时候, 也就是只有1≤E≤254时, 真值=(-1)^s*1.M*2^(E-127)(隐含的最高位变为1)
- 当阶码E全为0, 尾数M不全为0的时候, 表示非规格化小数±(0.xx...x)2*2^(-126)(隐含的最高位变为0, 阶码真值固定视为-126)
- 当阶码E全为0, 尾数M全为0的时候, 表示真值±0
- 当阶码E全为1, 尾数M全为0的时候, 表示无穷大±∞(发生上溢或者下溢的时候会出现这种情况
- 当阶码E全为1, 尾数M不全为0的时候, 表示非数值"NaN"(Not a Number, 0/0, ∞-∞等非法运算的结果就是NaN)